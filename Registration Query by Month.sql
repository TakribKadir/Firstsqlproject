WITH
	REG_DATES AS (
		SELECT
			USER_ID,
			MIN(ORDER_DATE) AS REG_DATE
		FROM
			ORDERS
		GROUP BY
			USER_ID
	)
SELECT
	DATE_TRUNC('month', REG_DATE)::DATE AS FOODR_MONTH,
	COUNT(DISTINCT USER_ID) AS REGS
FROM
	REG_DATES
GROUP BY
	FOODR_MONTH
ORDER BY
	FOODR_MONTH ASC
LIMIT
	3;